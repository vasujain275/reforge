# ============================================================================
# Reforge Environment Configuration
# ============================================================================
# Copy this file to .env and update the values before running docker compose

# ============================================================================
# REQUIRED - Must be changed before deployment
# ============================================================================

# JWT Secret for authentication tokens
# SECURITY: Generate a strong random secret for production!
# Example: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-me

# ============================================================================
# OPTIONAL - Application Settings
# ============================================================================

# Server address (default: :8080)
ADDR=:8080

# Environment mode: dev or prod
ENV=prod

# Database connection string (SQLite)
# The database file will be created in the mounted ./data directory
GOOSE_DBSTRING=file:/app/data/reforge.db?_pragma=journal_mode(WAL)&_pragma=foreign_keys(ON)
GOOSE_DRIVER=sqlite

# ============================================================================
# OPTIONAL - Scoring Algorithm Weights
# ============================================================================
# These values should sum to 1.0 for optimal scoring
# Defaults are provided if not set

DEFAULT_W_CONF=0.30
DEFAULT_W_DAYS=0.20
DEFAULT_W_ATTEMPTS=0.10
DEFAULT_W_TIME=0.05
DEFAULT_W_DIFFICULTY=0.15
DEFAULT_W_FAILED=0.10
DEFAULT_W_PATTERN=0.10

# ============================================================================
# OPTIONAL - Admin Seeding (First-time setup)
# ============================================================================
# These are used only if no admin user exists on first startup
# The /onboarding endpoint is recommended for setup instead

# SEED_ADMIN_EMAIL=admin@reforge.local
# SEED_ADMIN_NAME=System Administrator
# SEED_ADMIN_PASSWORD=ChangeMeImmediately123!

# ============================================================================
# OPTIONAL - Signup Settings
# ============================================================================

# Allow new user registrations (true/false)
DEFAULT_SIGNUP_ENABLED=true

# Allow admin-generated invite codes when signup is disabled
DEFAULT_INVITE_CODES_ENABLED=true
